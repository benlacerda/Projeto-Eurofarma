<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="Cache-control" content="no-cache">
    <meta http-equiv="expires" content="0">

    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/splash_template.css" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com">
    <link rel="stylesheet" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@100;200;500&display=swap" rel="stylesheet">


    <title>Login to WiFi</title>
</head>
<body style="background:#022956 none no-repeat center center scroll;" data-sj=''>
<!-- splash content -->
<div class="container" id="login" data-body-style="background:#FFFFFFFF none no-repeat center center scroll;">
    <div class="section rowBlock" style="min-height: 80px; float: left;">


        <div class="col_one ">
            <div class="sw_height " style="min-height:80px;">
                <div style="text-align: center; padding: 20px 0px;">
                    <font style="font-family: 'Public Sans';line-height:32px;" color="#ffffff" size="6">Wi-Fi
                        Visitantes​</font>
                </div>
            </div>
        </div>
    </div>

    <div class="section rowBlock" style="min-height: 297px; background: transparent; float: left;">


        <div class="col_one ">
            <form class='loginForm' >
                <div class='form_main'>
                    <div class="form-group"style="text-align: center;">
                        <img src="img\MicrosoftTeams-image.png"
                             style="margin-left: 44px;height: 54.17px; display: flex; margin-top: 44px;">
                    </div>

                    <div class="form-group">
                        <div class='formError form_right' style='display:none;'></div>
                    </div>

                    <div class="form-group" >
                        <p style="font-family: 'Public Sans';letter-spacing: 0.05em;
                            margin-right: 44px;text-align: center;margin-top: 60px;color: #022956;font-style: normal;font-weight: 582;font-size: 34px;line-height: 40px;">
                            Seu acesso foi liberado por 5 dias.
                        </p>
                    </div>
                    <div class="form-group">
                        <p style="font-family: 'Public Sans';
                            color: #022956;margin-top: 20px;font-style: normal;font-weight: 500;font-size: 20px;line-height: 40px;">
                            Caso queira acessar a rede  novamente utilize os mesmos dados  do cadastro.
                        </p>
                    </div>
                    <div class="container_logo"style="margin-top: 27px;margin-left:171px;">
                        <p style="margin-top: 160px;justify-content: center;align-items: 50%;font-family: 'Public Sans'; font-weight: 300; font-size: 15px; line-height: 32px;color: #000000;">
                            By
                        </p>
                        <img  style="width: 76px;" src="img/logo_roost.png">
                    </div>
                </div>
            </form>

        </div>
    </div>

    <div class="section rowBlock" style="min-height: 32px; background: transparent; float: left;">


        <div class="col_one ">
            <div class="sw_height " style="padding-top: 13px;height:32px;white-space: nowrap;text-align: center">
                <span class="img_ver_main" style="vertical-align:middle"></span>
                <span class="terms_text_user tnc-link" data-toggle="modal" data-target="#tsModal"
                      style="font-family: 'Public Sans';color:#FFFFFF;font-size:16px">Termos de Uso</span>
                <span class="separator_user" style="padding:5px; font-family: 'Public Sans';color:#FFFFFF;font-size:16px">|</span>
                <span class="terms_text_user pp-link" data-toggle="modal" data-target="#ppModal"
                      style="font-family: 'Public Sans';color:#FFFFFF;font-size:16px">Política de Privacidade</span>
            </div>
        </div>
    </div>

</div>
<!-- landing page content -->
<!-- landing page content end -->
<script src="js/jquery.min.js"></script>
<script src="js/bootstrap.bundle.min.js"></script>
<script src="js/eg.min.js"></script>
<script type='text/javascript'>

    $(function () {
        $('input[name=f_emailcheck], input[name=f_mobilecheck]').change(function () {
            var form = $(this).parents('form'),
                em_ck = form.find('input[name=f_emailcheck]'),
                mob_ck = form.find('input[name=f_mobilecheck]'),
                em_rs = form.find('label.email span.redstar'),
                mob_rs = form.find('label.mobile span.redstar'),
                email = form.find('input[name=f_email]'),
                mobile = form.find('input[name=f_mobile]');
            if (!em_ck.is(":checked") && !mob_ck.is(":checked")) {
                if ($(this).prop('name') == 'f_emailcheck') mob_ck.prop('checked', true);
                else em_ck.prop('checked', true);
            }
            if (em_ck.is(":checked")) {
                em_rs.text("*");
                email.prop("required");
            } else {
                em_rs.text("");
                email.removeProp("required");
            }
            if (mob_ck.is(":checked")) {
                mob_rs.text("*");
                mobile.prop("required");
            } else {
                mob_rs.text("");
                mobile.removeProp("required");
            }
        });
    });
    $('.regButton').on('click', function (event) {
        event.preventDefault();
        var lan = $('#landing'), log = $('#login');
        if (log) {
            log.hide();
        }
        if (lan) {
            $('body').attr('style', lan.attr('data-body-style'));
            lan.show();
        }
    });
    $('.logButton').on('click', function (event) {
        event.preventDefault();
        var lan = $('#landing'), log = $('#login');
        if (lan) {
            lan.hide();
        }
        if (log) {
            $('body').attr('style', log.attr('data-body-style'));
            log.show();
        }
    });
    $('.sponsorLogin').on('click', function (event) {
        event.preventDefault();
        $('#employee-registration').hide();
        $('#vendor-registration').hide();
        $('#guest-registration').hide();
        $('#login').show();
    });
    $('.sponsor-emp').on('click', function (event) {
        event.preventDefault();
        $('#login').hide();
        $('#vendor-registration').hide();
        $('#guest-registration').hide();
        $('#employee-registration').show();
    });
    $('.sponsor-vnd').on('click', function (event) {
        event.preventDefault();
        $('#login').hide();
        $('#employee-registration').hide();
        $('#guest-registration').hide();
        $('#vendor-registration').show();
    });
    $('.sponsor-gst').on('click', function (event) {
        event.preventDefault();
        $('#login').hide();
        $('#employee-registration').hide();
        $('#vendor-registration').hide();
        $('#guest-registration').show();
    });
    $('.regButton').on('click', function (event) {
        event.preventDefault();
        location.replace(location.href.replace('welcome.html', 'registration.html'));
    });
    $('.logButton').on('click', function (event) {
        event.preventDefault();
        // This logic wont work for HiveAP as clientMAC will not be present in failure page redirection
        // location.replace(location.href.replace('welcome.html', 'login.html'));
        location.href = "http://1.2.3.4"; // Force AP's Captive portal redirection to kick in
    });
    $('.tryButton').on('click', function (event) {
        event.preventDefault();
        // This logic wont work for HiveAP as clientMAC will not be present in failure page redirection
        // location.replace(location.href.replace('welcome.html', 'landing.html'));
        location.href = "http://1.2.3.4"; // Force AP's Captive portal redirection to kick in
    });
    $('.outButton').on('click', function (event) {
        event.preventDefault();
        location.replace(getLogoutURL());
    });
    $('.ancButton').on('click', function (event) {
        event.preventDefault();
        var form = $('<form method="POST"></form>'), urlParams = URLSearchToFormFields();
        form.prepend(urlParams.formItems);
        form.append(urlParams.hsServer);
        form.append(urlParams.currTime);
        form.append(urlParams.qv);
        form.append('<input name="f_register" type="hidden" value="Register">');
        var formAction = getFormAction('reg');
        form.attr('action', location.origin + '/guest/register/accept_connect' + location.search);
        form.attr('method', formAction.method);
        $.ajax({
            type: form.attr('method'),
            url: form.attr('action'),
            data: form.serialize()
        }).done(function (data) {
            $('.formError, .formSubmitStatus').text(data.message).show();
            if (data.macAuthRedirect) {
                setTimeout(function () {
                    var macAuthForm = $('<form></form>');
                    $(document.body).append(macAuthForm);
                    var clientMac = $.urlParam('clientMac').replace(/-/g, '').toLowerCase();
                    macAuthForm.append(URLSearchToFormFields())
                    macAuthForm.append('<input type="hidden" name="username" value="' + clientMac + '">')
                    macAuthForm.append('<input type="hidden" name="password" value="' + clientMac + '">')
                    macAuthForm.append('<input type="hidden" name="Submit2" value="Submit">');
                    macAuthForm.append('<input type="hidden" name="autherr" value="0">');
                    macAuthForm.append('<input type="hidden" name="url" value="https://extremenetworks.com">');
                    macAuthForm.append('<input type="hidden" name="ssid" value="' + $.urlParam('network') + '">');
                    macAuthForm.attr('action', $.urlParam('redirecturl'));
                    macAuthForm.attr('method', 'POST');
                    macAuthForm.submit();
                }, 500);
            }
        }).fail(function (data) {
            $('.formError, .formSubmitStatus').text('Server Error. Please try after sometime').show();
        });
    });
    $('.cntButton').on('click', function (event) {
        event.preventDefault();
        var form = $('<form method="POST"></form>'), urlParams = URLSearchToFormFields();
        form.prepend(urlParams.formItems);
        $('<input name="f_agree">').val('acknowledgement').appendTo(form);
        form.append(urlParams.hsServer);
        form.append(urlParams.currTime);
        form.append(urlParams.qv);
        var formAction = getFormAction('log');
        form.attr('action', location.origin + '/guest/register/accept_connect' + location.search);
        form.attr('method', formAction.method);
        $.ajax({
            type: form.attr('method'),
            url: form.attr('action'),
            data: form.serialize()
        }).done(function (data) {
            $('.formError, .formSubmitStatus').text(data.message).show();
            if (data.macAuthRedirect) {
                setTimeout(function () {
                    var macAuthForm = $('<form></form>');
                    $(document.body).append(macAuthForm);
                    var clientMac = $.urlParam('clientMac').replace(/-/g, '').toLowerCase();
                    macAuthForm.append(URLSearchToFormFields())
                    macAuthForm.append('<input type="hidden" name="username" value="' + clientMac + '">')
                    macAuthForm.append('<input type="hidden" name="password" value="' + clientMac + '">')
                    macAuthForm.append('<input type="hidden" name="Submit2" value="Submit">');
                    macAuthForm.append('<input type="hidden" name="autherr" value="0">');
                    macAuthForm.append('<input type="hidden" name="url" value="https://extremenetworks.com">');
                    macAuthForm.append('<input type="hidden" name="ssid" value="' + $.urlParam('network') + '">');
                    macAuthForm.attr('action', $.urlParam('redirecturl'));
                    macAuthForm.attr('method', 'POST');
                    macAuthForm.submit();
                }, 500);
            }
        }).fail(function (data) {
            $('.formError, .formSubmitStatus').text('Server Error. Please try after sometime').show();
        });
    });
    $.urlParam = function (name) {
        var results = new RegExp('[\?&]' + name + '=([^&#]*)').exec(window.location.href);
        if (results == null) {
            return null;
        } else {
            return decodeURI(results[1]) || 0;
        }
    }
    $('form.registrationForm a.submit').on('click', function (event) {
        event.preventDefault();
        if (!isRegFormValid($(this).parents('form'))) return false;
        var path = location.pathname.split('/'), form = $(this).parents('form'), urlParams = URLSearchToFormFields();
        if (form.find('.select_dob_day').val()) {
            var day = form.find('.select_dob_day').val(), month = form.find('.select_dob_month').val(),
                year = form.find('.select_dob_year').val();
            $('form.registrationForm input[name=f_dob]').remove()
            form.append('<input name="f_dob" type="hidden" value="' + year + '-' + month + '-' + day + '">');
        }
        if (form.find('.select_mobile_number').val()) {
            var code = form.find('.select_country_code').val(), number = form.find('.select_mobile_number').val();
            $('form.registrationForm input[name=f_mobile]').remove()
            form.append('<input name="f_mobile" type="hidden" value="' + code + number + '">');
        }
        $('form.registrationForm input[name=cpname]').remove()
        form.prepend(urlParams.formItems + '<input type="hidden" name="cpname" value="' + path[path.length - 2] + '">');
        $('form.registrationForm input[name=owner_id]').remove()
        form.prepend(urlParams.formItems + '<input type="hidden" name="owner_id" value="' + path[path.length - 3] + '">');
        form.append(urlParams.hsServer);
        form.append(urlParams.currTime);
        form.append(urlParams.qv);
        form.append('<input name="f_register" type="hidden" value="Register">');
        var formAction = getFormAction('reg');
        form.attr('action', location.origin + '/guest/register/register_user' + location.search);
        form.attr('method', formAction.method);

        $.ajax({
            type: form.attr('method'),
            url: form.attr('action'),
            data: form.serialize()
        }).done(function (data) {
            form.find('.formError, .formSubmitStatus').text(data.message).show();
            if (data.macAuthRedirect) {
                setTimeout(function () {
                    var macAuthForm = $('<form></form>');
                    $(document.body).append(macAuthForm);
                    var clientMac = $.urlParam('clientMac').replace(/-/g, '').toLowerCase();
                    macAuthForm.append(URLSearchToFormFields())
                    macAuthForm.append('<input type="hidden" name="username" value="' + clientMac + '">')
                    macAuthForm.append('<input type="hidden" name="password" value="' + clientMac + '">')
                    macAuthForm.append('<input type="hidden" name="Submit2" value="Submit">');
                    macAuthForm.append('<input type="hidden" name="autherr" value="0">');
                    macAuthForm.append('<input type="hidden" name="url" value="https://extremenetworks.com">');
                    macAuthForm.append('<input type="hidden" name="ssid" value="' + $.urlParam('network') + '">');
                    macAuthForm.attr('action', $.urlParam('redirecturl'));
                    macAuthForm.attr('method', 'POST');
                    macAuthForm.submit();
                }, 500);
            } else {
                if (data.success) {
                    form.find('.formError, .formSubmitStatus').text(data.message || 'Successfully registered!').show();
                } else {
                    form.find('.formError, .formSubmitStatus').text(data.message || 'Registration failed. Please contact administrator.').show();
                }
            }
        }).fail(function (data) {
            form.find('.formError, .formSubmitStatus').text('Server Error. Please try after sometime').show();
        });
    });
    $('form.loginForm a.submit').on('click', function (event) {
        event.preventDefault();
        var form = $(this).parents('form'), formError = form.find('.formError'), urlParams = URLSearchToFormFields();
        form.attr('action', location.origin + '/guest/register/deviceFingerPrint' + location.search);
        form.attr('method', 'POST');
        $.ajax({
            type: form.attr('method'),
            url: form.attr('action'),
            data: form.serialize()
        }).done(function (data) {
            if (data.success) {
                var username = $('#f_user_id').val();
                var password = $('#f_pass_id').val();
                var authForm = $('<form></form>');
                $(document.body).append(authForm);
                authForm.append(URLSearchToFormFields())
                authForm.append('<input type="hidden" name="username" value="' + username + '">')
                authForm.append('<input type="hidden" name="password" value="' + password + '">')
                authForm.append('<input type="hidden" name="Submit2" value="Submit">');
                authForm.append('<input type="hidden" name="autherr" value="0">');
                authForm.append('<input type="hidden" name="url" value="https://extremenetworks.com">');
                authForm.append('<input type="hidden" name="ssid" value="' + $.urlParam('network') + '">');
                authForm.attr('action', $.urlParam('redirecturl'));
                authForm.attr('method', 'POST');
                authForm.submit();
                return false;
            } else {
                formError.text(data.message).show();
            }
        });
    });
    $('form.loginForm a.forgot').on('click', function (event) {
        event.preventDefault();
        var form = $(this).parents('form'), formError = form.find('.formError'), urlParams = URLSearchToFormFields();
        if ($('#f_user_id').val() == "") {
            formError.text("Please enter a valid username.").show();
        } else {
            $('form.registrationForm').remove()
            var form = $('<form class="forgotPassword" method="POST"></form>'), urlParams = URLSearchToFormFields();
            form.prepend(urlParams.formItems);
            var username = $('#f_user_id').val();
            form.append('<input name="username" type="hidden" value="' + username + '">');
            form.attr('action', location.origin + '/guest/register/forgot' + location.search);
            form.attr('method', 'POST');
            $.ajax({
                type: form.attr('method'),
                url: form.attr('action'),
                data: form.serialize()
            }).done(function (data) {
                if (data.success) {
                    formError.text("Your password will be reset!" + '\n' + "Please check your email/sms for new passcode.").show();
                } else {
                    formError.text(data.message).show();
                }
            });
        }
    });
    $('form').on('reset', function (event) {
        $(this).find('.formError, .error').text('').hide();
    });
    $('.social-buttons').on('click', function (event) {
        event.preventDefault();
        var social = $(this).data('connect');
        social = social == 'facebook_checkin' ? 'facebook&checkin' : social;
        redirectTo(social);
    });
    $('form input:reset').on('click', function (event) {
        $('form .formError, form .error').text('').hide();
    });

    function isRegFormValid(form) {
        var has_error = false;
        var EMAIL_REGEXP = /[A-Za-z0-9!#$%&'*+=?^_`{|}~-]+(?:\.[A-Za-z0-9!#$%&'*+=?^_`{|}~-]+)*@(?:[A-Za-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?/g;
        form.find('.formError, .error').text('').hide();
        form.find('.email-go').each(function (i, el) {
            var input = $(el).find('input'), error = $(el).find('.error'), value = input.val();
            error.hide();
            if (value.length && !EMAIL_REGEXP.test(value)) {
                error.text("Invalid e-mail address").show();
                has_error = true;
            }
        });
        form.find('.form-group').each(function (i, el) {
            var input = $(el).find('input'),
                error = $(el).find('.error'),
                value = input.val();
            if ($(el).find('.redstar').text() == '*') {
                if (input.attr('type') == 'email') {
                    if (!EMAIL_REGEXP.test(value)) {
                        error.text("Invalid e-mail address").show();
                        has_error = true;
                    }
                } else if (input.attr('type') == 'mobile') {
                    var MOBILE_REGEXP = /^([0-9]{6,14})$/;
                    if (!MOBILE_REGEXP.test(value)) {
                        error.text("Please enter a valid Mobile Number(only numbers).").show();
                        has_error = true;
                    }
                } else if ($(el).hasClass('birthday')) {
                    var birthday_error = false, error_message = [];
                    $(el).find('select').each(function () {
                        if (!$(this).val()) {
                            birthday_error = true;
                            error_message.push($(this).data('error-message'));
                        }
                    });
                    if (birthday_error) {
                        error.html(error_message.join('<br>')).show();
                        has_error = true;
                    }
                } else if (value == '') {
                    error.text(input.data('error-message')).show();
                    has_error = true;
                }
            }
        });
        if (form.find('input[name=f_disclaimer]').length && !form.find('input[name=f_disclaimer]').is(':checked')) {
            form.find('.disclaimer.error').text(form.find('input[name=f_disclaimer]').data('error-message')).show();
            has_error = true;
        }
        return !has_error;
    }

    function isLoginFormValid(form) {
        var error = false;
        form.find('.formError, .error').text('').hide();
        form.find('.form-group').each(function (i, el) {
            if ($(el).find('input').val() == '') {
                $(el).find('.error').text($(el).find('input').data('error-message')).show();
                error = true;
            }
        });
        return !error;
    }
</script>
</body>
</html>
